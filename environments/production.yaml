# Production environment configuration for Description Generator
# This file configures the Kanopy deployment for production

envSecrets:
  S3_UPLOAD_KEY: description-generator-staging
  S3_UPLOAD_SECRET: description-generator-staging
  AWS_ACCESS_KEY_ID: description-generator-staging
  AWS_SECRET_ACCESS_KEY: description-generator-staging
  S3_UPLOAD_BUCKET: description-generator-staging
  S3_UPLOAD_REGION: description-generator-staging
  TOGETHER_API_KEY: description-generator-staging
  MONGODB_URI: description-generator-staging
  DB_NAME: description-generator-staging
  COLLECTION_NAME: description-generator-staging

# Service account configuration
serviceAccount:
  create: true
  name: description-generator-production-sa

# Resource limits for production (higher than staging)
resources:
  limits:
    cpu: 2000m
    memory: 2048Mi
  requests:
    cpu: 500m
    memory: 512Mi

# Ingress configuration
ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "true"

# Service mesh configuration
mesh:
  enabled: true
  
# Horizontal Pod Autoscaler
autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70

# Health check probes (correct format for web-app chart)
healthcheck:
  enabled: true
  path: /
  port: 8080

# Container configuration
container:
  port: 8080
